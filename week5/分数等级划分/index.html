<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>分数等级划分</title>
    <link rel="stylesheet" href="./css/bootstrap.min.css" />
    <script type="text/javascript">
    //输入值判断
    function inputJudge() {
        var input = document.getElementById("input");
        var Message = document.getElementById("Message");
        //字符串转化为数值
        //    var inputValue = parseInt(input.value);
        var inputValue = Number(input.value);

        // 判断是否有输入内容
        if (input.value.length == 0 || input.value === " ") {
            showJudgeResult(false);
            Message.innerHTML = "请输入0~100的数字。"
            Message.hidden = false;
            return;
        }
        // 判断是否输入的是数值
        if (isNaN(inputValue)) {
            showJudgeResult(false);
            Message.innerHTML = "请输入0~100的数字。"
            Message.hidden = false;
            return;
        }
        // 判断数值是否在0-100之间，包含0和100
        if (inputValue >= 0 && inputValue <= 100) {
            showJudgeResult(true);
            update(calByIfElse, inputValue, "ifElseResult");
            update(calBySwitch, inputValue, "switchResult");
            Message.hidden = true;
        } else {
            showJudgeResult(false);
            Message.innerHTML = "请输入0~100的数字。"
            Message.hidden = false;
        }
    }

    // 用于显示上面输入判断的结果
    function showJudgeResult(result) {
        var formGroup = document.getElementById('formGroup');
        if (result == true) {
            formGroup.className = "form-group has-success";
        } else {
            formGroup.className = "form-group has-error";
        }
    }

    // 用于更新方法的输出结果到界面中。
    //(函数,输入值,显示框id)
    function update(func, inputValue, output_result) {
        var returnValue = func(inputValue);
        var func_result = document.getElementById(output_result);
        // func_result从output_result显示框id获得,则func_result也会影响显示框的显示
        func_result.innerHTML = "学生等级：" + returnValue;
    }
    </script>
</head>

<body>
    <div class="container">
        <!--用于输入学生分数的输入框部分，包含判断显示框-->
        <div class="row" style="margin-top:100px;">
            <!--分数输入框-->
            <div class="col-xs-12 col-md-offset-2 col-md-8">
                <div id="formGroup" class="form-group">
                    <label for="Score" class="col-sm-offset-5 col-sm-4 control-label">请输入学生分数</label>
                    <input type="text" class="form-control" id="input" onchange="inputJudge()" />
                </div>
            </div>
            <!--结果判断结果-->
            <div class="col-xs-12 col-md-offset-2 col-md-8">
                <div id="Message" class="alert alert-danger" hidden="hidden"></div>
            </div>
        </div>
        <div class="row">
            <!--方法1的输出-->
            <div class="col-xs-12 col-sm-6 col-md-offset-2 col-md-4">
                <div class="list-group">
                    <a href="#" class="list-group-item active">使用if else</a>
                    <a href="#" id="ifElseResult" class="list-group-item">学生等级：</a>
                </div>
            </div>
            <!--方法2的输出-->
            <div class="col-xs-12 col-sm-6 col-md-4">
                <div class="list-group">
                    <a href="#" class="list-group-item active">使用switch</a>
                    <a href="#" id="switchResult" class="list-group-item">学生等级：</a>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="./js/index.js">
    </script>
</body>

</html>
